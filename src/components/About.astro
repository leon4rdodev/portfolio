---
import type { Lang } from "../i18n/ui";
import { useTranslations } from "../i18n/utils";
import { Icon } from "astro-icon/components";

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const stack = [
  { name: "React", icon: "simple-icons:react" },
  { name: "Next.js", icon: "simple-icons:nextdotjs" },
  { name: "Astro", icon: "simple-icons:astro" },
  { name: "Node.js", icon: "simple-icons:nodedotjs" },
  { name: "TypeScript", icon: "simple-icons:typescript" },
  { name: "MongoDB", icon: "simple-icons:mongodb" },
  { name: "PostgreSQL", icon: "simple-icons:postgresql" },
  { name: "Docker", icon: "simple-icons:docker" },
  { name: "Git", icon: "simple-icons:git" },
  { name: "Bun", icon: "simple-icons:bun" },
  { name: "NestJS", icon: "simple-icons:nestjs" },
];
---

<section class="section about" id="about">
  <div class="container">
    <h2 class="section__title animate-on-scroll">{t("about.title")}</h2>
    <div class="about__content animate-on-scroll">
      <p class="about__text">{t("about.p1")}</p>
      <p class="about__text">{t("about.p2")}</p>
    </div>
    <div class="about__stack animate-on-scroll">
      <p class="about__stack-title">{t("about.stack.title")}</p>
      <div class="about__stack-list">
        {
          stack.map((tech) => (
            <span class="about__tech">
              <Icon name={tech.icon} size={16} />
              {tech.name}
            </span>
          ))
        }
      </div>
    </div>
  </div>
</section>

<style>
  .about__content {
    max-width: 640px;
    margin-bottom: var(--space-2xl);
  }

  .about__text {
    font-size: var(--text-lg);
    color: var(--text-secondary);
    line-height: 1.8;
    margin-bottom: var(--space-md);
  }

  .about__stack {
    padding-top: var(--space-xl);
    border-top: 1px solid var(--border);
  }

  .about__stack-title {
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: var(--space-md);
  }

  .about__stack-list {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  .about__tech {
    display: inline-flex;
    align-items: center;
    gap: var(--space-sm);
    font-size: var(--text-sm);
    color: var(--text-secondary);
    padding: var(--space-xs) var(--space-md);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    transition: all var(--transition-fast);
  }

  .about__tech:hover {
    border-color: var(--border-hover);
    color: var(--accent-light);
    background: rgba(59, 130, 246, 0.05);
  }

  .about__tech :global(svg) {
    flex-shrink: 0;
  }
</style>
